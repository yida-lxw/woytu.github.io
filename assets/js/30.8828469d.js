(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{617:function(t,a,e){"use strict";e.r(a);var r=e(4),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"jdk安装配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jdk安装配置"}},[t._v("#")]),t._v(" JDK安装配置")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#flag"}},[t._v("Flag")])]),e("li",[e("a",{attrs:{href:"#openjdk"}},[t._v("OpenJDK")])]),e("li",[e("a",{attrs:{href:"#源码包"}},[t._v("源码包")])]),e("li",[e("a",{attrs:{href:"#jvm"}},[t._v("JVM")]),e("ul",[e("li",[e("a",{attrs:{href:"#常用参数"}},[t._v("常用参数")])]),e("li",[e("a",{attrs:{href:"#参考参数"}},[t._v("参考参数")])])])]),e("li",[e("a",{attrs:{href:"#centos安装jdk"}},[t._v("CentOS安装JDK")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flag"}},[t._v("#")]),t._v(" Flag")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.ej-technologies.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.ej-technologies.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/oracle/graal",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/oracle/graal"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://openjdk.java.net/jeps/333",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://openjdk.java.net/jeps/333"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"openjdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#openjdk"}},[t._v("#")]),t._v(" OpenJDK")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/openjdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/openjdk"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://hg.openjdk.java.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://hg.openjdk.java.net"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/unofficial-openjdk/openjdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/unofficial-openjdk/openjdk"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/AdoptOpenJDK",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/AdoptOpenJDK"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/corretto",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/corretto"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://aws.amazon.com/cn/corretto",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://aws.amazon.com/cn/corretto"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/zulu-openjdk",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/zulu-openjdk"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://cn.azul.com/downloads/zulu",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.azul.com/downloads/zulu"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cdn.azul.com/zulu/bin",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cdn.azul.com/zulu/bin"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ojdkbuild/ojdkbuild",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ojdkbuild/ojdkbuild"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developers.redhat.com/products/openjdk/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("Red Hat OpenJDK"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/SAP/SapMachine",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/SAP/SapMachine"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://sap.github.io/SapMachine",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sap.github.io/SapMachine"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/bell-sw",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/bell-sw"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://bell-sw.com/java",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://bell-sw.com/java"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/sdkman",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/sdkman"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://sdkman.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://sdkman.io"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/ScoopInstaller/Java",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ScoopInstaller/Java"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/alibaba/dragonwell8",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/alibaba/dragonwell8"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://developer.ibm.com/javasdk/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.ibm.com/javasdk/downloads"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/oracle/graal",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/oracle/graal"),e("OutboundLink")],1),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://www.graalvm.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.graalvm.org"),e("OutboundLink")],1)])])])]),t._v(" "),e("h2",{attrs:{id:"源码包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码包"}},[t._v("#")]),t._v(" 源码包")]),t._v(" "),e("ul",[e("li",[t._v("JavaFX源码：JDK安装目录下的"),e("code",[t._v("javafx-src.zip")]),t._v("文件")]),t._v(" "),e("li",[t._v("Java源码：JDK安装目录下的"),e("code",[t._v("src.zip")]),t._v("文件")])]),t._v(" "),e("blockquote",[e("p",[t._v("IDEA查看源码都是从这两个ZIP文件加载，查看源码解压ZIP到"),e("code",[t._v("Maven")]),t._v("项目的"),e("code",[t._v("src/main/java")]),t._v("下，或者直接解压到普通项目"),e("code",[t._v("src")]),t._v("下")])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("rt.jar")]),t._v(" 是JAVA基础类库，包含"),e("code",[t._v("lang")]),t._v("在内的大部分功能，而且"),e("code",[t._v("rt.jar")]),t._v("默认就在根"),e("code",[t._v("classloader")]),t._v("的加载路径里面")])]),t._v(" "),e("blockquote",[e("p",[t._v("在 "),e("code",[t._v("java.util.concurrent")]),t._v("、"),e("code",[t._v("java.security")]),t._v("、"),e("code",[t._v("javax.cropty")]),t._v("、"),e("code",[t._v("javax.security")]),t._v(" 四个包中就占了两个（多线程、安全）")])]),t._v(" "),e("p",[e("strong",[t._v("多线程（multi-threading and concurrent）")])]),t._v(" "),e("ol",[e("li",[t._v("关键词：volatile, sychronized")]),t._v(" "),e("li",[t._v("传统的线程 API：java.lang.Thread, java.lang.Runnable, java.lang.ThreadGroup, Object#wait, Object#notify, Object#notifyAll")]),t._v(" "),e("li",[t._v("JDK 5 并发包（java.util.concurrent）API：线程池、任务执行器、计数信号量、倒计数门闩、并发集合（并发 Map、阻塞队列等）、\n基于 CPU CAS 指令的原子 API（java.util.concurrent.atomic）、锁 API（java.util.concurrent.lock）和条件对象等。")]),t._v(" "),e("li",[t._v("作为个人知识提升，还需要理解诸如自旋锁、分离锁、分拆锁、读写锁等的同步锁策略，以及可重入锁、锁的公平性的意义。\n以及各种并发锁的算法，比如：Peterson锁、Bakery锁 等等，以及现代 CPU 体系结构")])]),t._v(" "),e("blockquote",[e("p",[t._v("涉及多线程及并发的 API 在 java.lang 中及 java.util.concurrent.* 中。")])]),t._v(" "),e("p",[e("strong",[t._v("网络（network communication）")])]),t._v(" "),e("blockquote",[e("p",[t._v("java.net、javax.net")])]),t._v(" "),e("ol",[e("li",[t._v("阻塞 TCP 通信、阻塞 UDP 通信、组播")]),t._v(" "),e("li",[t._v("非阻塞 TCP 通信、非阻塞 UDP 通信")]),t._v(" "),e("li",[t._v("客户端通信 API（java.net.URL, java.net.URLConnection 等类库）")])]),t._v(" "),e("p",[t._v("涉及网络通信的 API 都在 java.net 和 java.nio.channels 包中。这里的网络已经将 RMI 相关包 java.rmi, javax.rmi 都排除了。")]),t._v(" "),e("p",[e("strong",[t._v("安全（security, cryptography and AAA）")])]),t._v(" "),e("ol",[e("li",[t._v("Java 加密类库 JCA")]),t._v(" "),e("li",[t._v("Java 加密类库扩展 JCE")]),t._v(" "),e("li",[t._v("涉及密码学知识点的消息摘要、消息认证码、对称加密、非对称加密、数字签名")]),t._v(" "),e("li",[t._v("涉及网络通信证书管理工具（keytool）及 API（PKI、X.509证书）")]),t._v(" "),e("li",[t._v("基于 SSL/TLS 的安全网络通信 API（JSSE），包括：密钥库管理、信任库管理、阻塞 SSL 通信和非阻塞 SSL 通信等等")]),t._v(" "),e("li",[t._v("Java 认证及授权服务（JAAS）API")])]),t._v(" "),e("p",[t._v("涉及安全的东西都在：")]),t._v(" "),e("ul",[e("li",[t._v("java.security（JCA、JCE、数字证书，以及 JCE 的 SPI）")]),t._v(" "),e("li",[t._v("javax.net（SSL/TLS）")]),t._v(" "),e("li",[t._v("javax.security（JAAS）")]),t._v(" "),e("li",[t._v("javax.crypto（密码学）")]),t._v(" "),e("li",[t._v("keytool 的 JDK 工具")])]),t._v(" "),e("p",[e("strong",[e("code",[t._v("java")]),t._v("、"),e("code",[t._v("javax")]),t._v("、"),e("code",[t._v("sun")]),t._v("、"),e("code",[t._v("org")]),t._v("包有什么区别")])]),t._v(" "),e("blockquote",[e("p",[t._v("都是jdk提供的类包，且都是在"),e("code",[t._v("rt.jar")]),t._v("中。")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("java.*")]),t._v(" java标准的一部分，是对外承诺的java开发接口，通常要保持向后兼容，一般不会轻易修改。")]),t._v(" "),e("li",[e("code",[t._v("javax.*")]),t._v(" java标准的一部分，但是没有包含在标准库中，一般属于标准库的扩展。通常属于某个特定领域，不是一般性的api。")])]),t._v(" "),e("blockquote",[e("p",[t._v("以扩展的方式提供api，以避免jdk的标准库过大。当然某些早期的javax，后来被并入到标准库中，所有也应该属于新版本JDK的标准库。\n比如jmx，java 5以前是以扩展方式提供，但是jdk5以后就做为标准库的一部分了，所有javax.management也是jdk5的标准库的一部分。")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("com.sun.*")]),t._v(" 是sun的hotspot虚拟机中"),e("code",[t._v("java.*")]),t._v(" 和 "),e("code",[t._v("javax.*")]),t._v("的实现类。")])]),t._v(" "),e("blockquote",[e("p",[t._v("因为不是sun对外公开承诺的接口，所以根据根据实现的需要随时增减，因此在不同版本的hotspot中可能是不同的，\n而且在其他的jdk实现中是没有的，调用这些类，可能不会向后兼容，所以一般不推荐使用。")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("org.omg.*")]),t._v(" 是由企业或者组织提供的java类库，大部分不是sun公司提供的，同"),e("code",[t._v("com.sun.*")]),t._v("，不具备向后兼容性，会根据需要随时增减。")])]),t._v(" "),e("blockquote",[e("p",[t._v("其中比较常用的是w3c提供的对XML、网页、服务器的类和接口。")])]),t._v(" "),e("h2",{attrs:{id:"jvm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jvm"}},[t._v("#")]),t._v(" JVM")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/topics/jvm",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/topics/jvm"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.oracle.com/java/technologies/hotspotfaq.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("有关Java HotSpot VM的常见问题"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://segmentfault.com/a/1190000020656202",target:"_blank",rel:"noopener noreferrer"}},[t._v("JVM的那些常用参数以及命令"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://jdk.java.net/zgc/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://jdk.java.net/zgc/"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://wiki.openjdk.java.net/display/zgc/Main",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://wiki.openjdk.java.net/display/zgc/Main"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("G1垃圾收集器入门"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/introduction.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java平台，标准版HotSpot虚拟机垃圾收集调优指南"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java HotSpot VM选项 - 仅适用于JDK 7和早期版本"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.oracle.com/java/technologies/javase/gc-tuning-6.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java SE 6 HotSpot 虚拟机垃圾收集优化"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[t._v("JVM配置工具 "),e("a",{attrs:{href:"https://render.alipay.com/p/s/jvm-generate/JvmGenerate",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://render.alipay.com/p/s/jvm-generate/JvmGenerate"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://jvmmemory.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://jvmmemory.com"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://console.perfma.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://console.perfma.com"),e("OutboundLink")],1)])]),t._v(" "),e("p",[e("img",{attrs:{src:"/images/jvm%E5%8F%82%E6%95%B0%E7%BB%9F%E8%AE%A1.png",alt:""}})]),t._v(" "),e("blockquote",[e("p",[t._v("因为Tomcat运行在JAVA虚拟机之上,适当调整运行JVM参数可以提升整体性能。")])]),t._v(" "),e("ul",[e("li",[t._v("Windows：修改"),e("code",[t._v("bin/catalina.bat")]),t._v("文件，文件中有注释说明")]),t._v(" "),e("li",[t._v("Linux：修改"),e("code",[t._v("bin/catalina.sh")]),t._v("文件，文件中有注释说明")])]),t._v(" "),e("h3",{attrs:{id:"常用参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用参数"}},[t._v("#")]),t._v(" 常用参数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("file.encoding")]),t._v(" "),e("td",[t._v("默认文件编码")])]),t._v(" "),e("tr",[e("td",[t._v("-Xmx1024m")]),t._v(" "),e("td",[t._v("初始堆大小为1024m")])]),t._v(" "),e("tr",[e("td",[t._v("-Xms1024m")]),t._v(" "),e("td",[t._v("最大堆大小为1024m")])]),t._v(" "),e("tr",[e("td",[t._v("-Xmn366m")]),t._v(" "),e("td",[t._v("设置年轻代大小为366m,Sun官方推荐配置为整个堆的3/8（35.7%）")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:NewSize=n")]),t._v(" "),e("td",[t._v("设置年轻代大小")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MaxNewSize=n")]),t._v(" "),e("td",[t._v("设置最大的年轻代大小")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:PermSize=n")]),t._v(" "),e("td",[t._v("JDK1.7设置永久代大小")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MaxPermSize=n")]),t._v(" "),e("td",[t._v("JDK1.7设置最大永久代大小")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MetaspaceSize=n")]),t._v(" "),e("td",[t._v("JDK1.8设置元空间大小")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MaxMetaspaceSize=n")]),t._v(" "),e("td",[t._v("JDK1.8设置最大元空间大小,最好与-XX:MetaspaceSize一致")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:NewRatio=4")]),t._v(" "),e("td",[t._v("设置年轻代（包括Eden和两个Survivor区）与终身代的比值（除去永久代）。设置为4，则年轻代与终身代所占比值为1：4，年轻代占整个堆栈的1/5")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:SurvivorRatio=n")]),t._v(" "),e("td",[t._v("年轻代中Eden区与两个Survivor区的比值。注意Survivor区有两个。如：3，表示Eden：Survivor=3：2，一个Survivor区占整个年轻代的1/5")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MaxTenuringThreshold")]),t._v(" "),e("td",[t._v("设置垃圾最大年龄，默认为：15。如果设置为0的话，则年轻代对象不经过Survivor区，直接进入年老代。对于年老代比较多的应用，可以提高效率。如果将此值设置为一个较大值，则年轻代对象会在Survivor区进行多次复制，这样可以增加对象再年轻代的存活时间，增加在年轻代即被回收的概论。")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+CMSScavengeBeforeRemark")]),t._v(" "),e("td",[t._v("CMS并发标记阶段与用户线程并发进行，此阶段会产生已经被标记了的对象又发生变化的情况，若打开此开关，可在一定程度上降低CMS重新标记阶段对上述“又发生变化”对象的扫描时间，当然，“清除尝试”也会消耗一些时间。注：开启此开关并不会保证在标记阶段前一定会进行清除操作")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+UseSerialGC")]),t._v(" "),e("td",[t._v("设置串行收集器")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+UseParallelGC")]),t._v(" "),e("td",[t._v("设置并行收集器")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:ParallelGCThreads=n")]),t._v(" "),e("td",[t._v("设置并行收集线程数")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+UseParalledlOldGC")]),t._v(" "),e("td",[t._v("设置并行年老代收集器")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:MaxGCPauseMillis=n")]),t._v(" "),e("td",[t._v("设置并行收集最大暂停时间")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:GCTimeRatio=n")]),t._v(" "),e("td",[t._v("设置垃圾回收时间占程序运行时间的百分比。公式为1/(1+n)")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+UseConcMarkSweepGC")]),t._v(" "),e("td",[t._v("设置年老代为并发收集。测试中配置这个以后，-XX:NewRatio=4的配置失效了，原因不明。所以，此时年轻代大小最好用-Xmn设置。")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:CMSInitiatingOccupancyFraction=70")]),t._v(" "),e("td",[t._v("CMS垃圾收集器，当老年代达到70%时，触发CMS垃圾回收。")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+UseCMSInitiatingOccupancyOnly")]),t._v(" "),e("td",[t._v("指定使用CMSInitiatingOccupancyFraction的值,如果不指定,JVM仅在第一次使用设定值,后续则自动调整。")])]),t._v(" "),e("tr",[e("td",[t._v("-XX:+ParallelRefProcEnabled")]),t._v(" "),e("td",[t._v("并行处理Reference，加快处理速度，缩短耗时")])])])]),t._v(" "),e("h3",{attrs:{id:"参考参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考参数"}},[t._v("#")]),t._v(" 参考参数")]),t._v(" "),e("blockquote",[e("p",[t._v("根据JDK8-4G内存-4核CPU生成的"),e("code",[t._v("JVM")]),t._v("参数，打印了"),e("code",[t._v("gc")]),t._v("各个阶段的日志")])]),t._v(" "),e("blockquote",[e("p",[t._v("看看"),e("code",[t._v("ygc")]),t._v("的回收时间，以及"),e("code",[t._v("old")]),t._v("区大小，最后看"),e("code",[t._v("FGC")])])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_OPTS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\n-server\n-Xmx2688M\n-Xms2688M\n-Xmn960m\n-XX:MaxMetaspaceSize=512M\n-XX:MetaspaceSize=512M\n-XX:+UseConcMarkSweepGC\n-XX:CMSInitiatingOccupancyFraction=70\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:+ExplicitGCInvokesConcurrentAndUnloadsClasses\n-XX:+ParallelRefProcEnabled\n-XX:+CMSScavengeBeforeRemark\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:HeapDumpPath=/home/jvm_logs/heap.hprof\n-XX:ErrorFile=/home/jvm_logs/hs_err_pid%p.log\n-Xloggc:/home/jvm_logs/gc.log\n-Djava.rmi.server.hostname=192.168.1.220\n-Dcom.sun.management.jmxremote.port=18999\n-Dcom.sun.management.jmxremote.ssl=false\n-Dcom.sun.management.jmxremote.authenticate=false\n-XX:+PrintGCDetails\n-XX:+PrintGCDateStamps\n-verbose:class\n-XX:+PrintClassHistogramBeforeFullGC\n-XX:+PrintClassHistogramAfterFullGC\n-XX:+PrintCommandLineFlags\n-XX:+PrintGCApplicationConcurrentTime\n-XX:+PrintGCApplicationStoppedTime\n-XX:+PrintTenuringDistribution\n-XX:+PrintHeapAtGC\n"')]),t._v("\n")])])]),e("h2",{attrs:{id:"centos安装jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos安装jdk"}},[t._v("#")]),t._v(" CentOS安装JDK")]),t._v(" "),e("p",[e("strong",[t._v("查看已安装")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" java\n")])])]),e("p",[e("strong",[t._v("卸载JDK")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" -e --nodeps 查出来的名称\n")])])]),e("p",[e("strong",[t._v("查看JDK软件包列表")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("yum -y list java*\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\nyum search java "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -i --color JDK\n")])])]),e("p",[e("strong",[t._v("yum安装JDK")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" java-1.7.0-openjdk java-1.7.0-openjdk-devel.x86_64\n")])])]),e("blockquote",[e("p",[t._v("通过yum默认安装的路径为"),e("code",[t._v("/usr/lib/jvm")])])]),t._v(" "),e("p",[e("strong",[t._v("配置环境变量")])]),t._v(" "),e("ul",[e("li",[t._v("在"),e("code",[t._v("/etc/profile")]),t._v("文件中加入")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("########## jdk  environment ######################")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.181-2.6.14.8.el7_5.x86_64\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("CLASSPATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(".:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/jre/lib/rt.jar:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/lib/dt.jar:"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/lib/tools.jar\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v("/bin\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("########## jdk  environment ######################")]),t._v("\n")])])]),e("ul",[e("li",[t._v("刷新环境变量文件")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" /etc/profile\n")])])]),e("ul",[e("li",[t._v("查看变量是否生效")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_HOME")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$CLASSPATH")]),t._v("\n")])])]),e("p",[e("strong",[t._v("查看Java版本信息")])]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("java -version\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);