(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{656:function(s,a,e){"use strict";e.r(a);var t=e(4),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"centos"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#centos"}},[s._v("#")]),s._v(" CentOS")]),s._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#yum和rpm操作"}},[s._v("YUM和RPM操作")])]),e("li",[e("a",{attrs:{href:"#systemctl"}},[s._v("systemctl")])]),e("li",[e("a",{attrs:{href:"#firewalld"}},[s._v("firewalld")])]),e("li",[e("a",{attrs:{href:"#内核升级"}},[s._v("内核升级")])]),e("li",[e("a",{attrs:{href:"#一键安装bbr"}},[s._v("一键安装BBR")]),e("ul",[e("li",[e("a",{attrs:{href:"#安装新版内核headers"}},[s._v("安装新版内核headers")])]),e("li",[e("a",{attrs:{href:"#内核升级方法"}},[s._v("内核升级方法")])])])]),e("li",[e("a",{attrs:{href:"#三方工具"}},[s._v("三方工具")])]),e("li",[e("a",{attrs:{href:"#svn"}},[s._v("SVN")])]),e("li",[e("a",{attrs:{href:"#chrome"}},[s._v("Chrome")])])])]),e("p"),s._v(" "),e("h2",{attrs:{id:"yum和rpm操作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yum和rpm操作"}},[s._v("#")]),s._v(" YUM和RPM操作")]),s._v(" "),e("ul",[e("li",[e("code",[s._v("yum -y install 包名")]),s._v("（支持*） ：自动选择y，全自动")]),s._v(" "),e("li",[e("code",[s._v("yum install 包名")]),s._v("（支持*） ：手动选择y or n")]),s._v(" "),e("li",[e("code",[s._v("yum remove 包名")]),s._v("（不支持*）")]),s._v(" "),e("li",[e("code",[s._v("rpm -ivh 包名")]),s._v("（支持*）：安装rpm包")]),s._v(" "),e("li",[e("code",[s._v("rpm -e 包名")]),s._v("（不支持*）：卸载rpm包")]),s._v(" "),e("li",[e("code",[s._v("yum info nginx")]),s._v("(查看当前版本可选)")]),s._v(" "),e("li",[e("code",[s._v("yum list installed | grep 包名")]),s._v("（不支持*）：确认是否安装过包")]),s._v(" "),e("li",[e("code",[s._v("yum -y update")]),s._v(" 更新yum源包")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装EPEL源")]),s._v("\nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release \n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询已安装软件包信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qi 软件名\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询已安装软件包安装位置")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ql 软件名\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装软件依赖")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qR 软件名\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装软件的配置文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qc 软件名\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询已安装文件所属软件包")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qf 文件名的绝对路径\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装软件包数量")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l \n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 软件名称\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e --nodeps 列出的软件全名\n")])])]),e("h2",{attrs:{id:"systemctl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#systemctl"}},[s._v("#")]),s._v(" systemctl")]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("systemctl")]),s._v("是"),e("code",[s._v("CentOS7")]),s._v("的服务管理工具中主要的工具，它融合之前"),e("code",[s._v("service")]),s._v("和"),e("code",[s._v("chkconfig")]),s._v("的功能于一体。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动一个服务")]),s._v("\nsystemctl start firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭一个服务")]),s._v("\nsystemctl stop firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启一个服务")]),s._v("\nsystemctl restart firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示一个服务的状态")]),s._v("\nsystemctl status firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开机时启用一个服务")]),s._v("\nsystemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在开机时禁用一个服务")]),s._v("\nsystemctl disable firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务是否开机启动")]),s._v("\nsystemctl is-enabled firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已启动的服务列表")]),s._v("\nsystemctl list-unit-files"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" enabled\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看启动失败的服务列表")]),s._v("\nsystemctl --failed\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看mysql是否自启动")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" --list "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" mysqld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置开启自启动")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chkconfig")]),s._v(" mysqld on\n")])])]),e("h2",{attrs:{id:"firewalld"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#firewalld"}},[s._v("#")]),s._v(" firewalld")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看firewalld状态，发现当前是dead状态，即防火墙未开启。")]),s._v("\nsystemctl status firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启防火墙，没有任何提示即开启成功。")]),s._v("\nsystemctl start firewalld\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已开放的端口(默认不开放任何端口)")]),s._v("\nfirewall-cmd --list-ports\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启防火墙")]),s._v("\nfirewall-cmd --reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止防火墙")]),s._v("\nsystemctl stop firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止防火墙开机启动")]),s._v("\nsystemctl disable firewalld.service\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" public --remove-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启80端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("/tcp --permanent\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启8080-8089的IP端")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("-8089/tcp --permanent\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启3306端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/tcp --permanent\n")])])]),e("ul",[e("li",[e("code",[s._v("--zone")]),s._v(" 作用域")]),s._v(" "),e("li",[e("code",[s._v("--add-port=80/tcp")]),s._v(" 添加端口，格式为：端口/通讯协议")]),s._v(" "),e("li",[e("code",[s._v("--permanent")]),s._v(" 永久生效，没有此参数重启后失效")])]),s._v(" "),e("p",[e("strong",[s._v("配置"),e("code",[s._v("firewalld-cmd")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\nfirewall-cmd --version\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看帮助")]),s._v("\nfirewall-cmd --help\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示状态")]),s._v("\nfirewall-cmd --state\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有打开的端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --list-ports\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新防火墙规则")]),s._v("\nfirewall-cmd --reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看区域信息")]),s._v("\nfirewall-cmd --get-active-zones\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看指定接口所属区域")]),s._v("\nfirewall-cmd --get-zone-of-interface"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("eth0\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拒绝所有包")]),s._v("\nfirewall-cmd --panic-on\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 取消拒绝状态")]),s._v("\nfirewall-cmd --panic-off\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看是否拒绝")]),s._v("\nfirewall-cmd --query-panic\n")])])]),e("h2",{attrs:{id:"内核升级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内核升级"}},[s._v("#")]),s._v(" 内核升级")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查当前CentOS系统版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redhat-release\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查当前CentOS系统内核版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n")])])]),e("ul",[e("li",[s._v("运行yum命令升级")])]),s._v(" "),e("blockquote",[e("p",[s._v("CentOS中update命令可以一次性更新所有软件(包括系统版本)到最新版本。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先清除所有")]),s._v("\nyum clean all\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 再升级")]),s._v("\nyum update -y\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 升级内核")]),s._v("\nyum update kernel  -y\n")])])]),e("ul",[e("li",[s._v("在"),e("code",[s._v("CentOS7.x")]),s._v("上启用"),e("code",[s._v("ELRepo")]),s._v("仓库")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 首先导入elrepo的key")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装elrepo的yum")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh http://www.elrepo.org/elrepo-release-7.0-2.el7.elrepo.noarch.rpm\n")])])]),e("ul",[e("li",[s._v("查看内核相关包")])]),s._v(" "),e("blockquote",[e("p",[s._v("仓库启用后，你可以使用下面的命令列出可用的系统内核相关包，查看内核相关包")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum --disablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*"')]),s._v(" --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"elrepo-kernel"')]),s._v(" list available\n")])])]),e("ul",[e("li",[s._v("安装最新的主线稳定内核")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者以下命令安装最新的主线稳定内核")]),s._v("\nyum -y --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml.x86_64 kernel-ml-devel.x86_64\n")])])]),e("ul",[e("li",[s._v("查看可用内核")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /boot/grub2/grub.cfg "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" menuentry \n")])])]),e("ul",[e("li",[s._v("设置内核启动项")])]),s._v(" "),e("blockquote",[e("p",[s._v("替换刚刚查看出来的内核名字执行，比如："),e("code",[s._v("grub2-set-default 'CentOS Linux (4.15.13-1.el7.elrepo.x86_64) 7 (Core)'")])]),s._v(" "),e("blockquote",[e("p",[e("code",[s._v("grub2-set-default '内核名字'")])])])]),s._v(" "),e("ul",[e("li",[s._v("查看内核启动项是否设置成功")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("grub2-editenv list\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查当前CentOS系统内核版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -sr\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看多余的内核")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" kernel\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除多余的内核")]),s._v("\nyum remove 内核名字\n")])])]),e("h2",{attrs:{id:"一键安装bbr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一键安装bbr"}},[s._v("#")]),s._v(" 一键安装BBR")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/teddysun/across",target:"_blank",rel:"noopener noreferrer"}},[s._v("秋水逸冰"),e("OutboundLink")],1)])]),s._v(" "),e("ul",[e("li",[s._v("下载并执行脚本")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x bbr.sh\n./bbr.sh\n")])])]),e("blockquote",[e("p",[s._v("安装完成后，脚本会提示需要重启 VPS，输入"),e("code",[s._v("y")]),s._v("并回车后重启。")])]),s._v(" "),e("ul",[e("li",[s._v("查看内核版本")])]),s._v(" "),e("blockquote",[e("p",[s._v("显示为最新版就表示OK了，重启完成后，进入VPS，验证一下是否成功安装最新内核并开启"),e("code",[s._v("TCP BBR")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -r\nsysctl net.ipv4.tcp_available_congestion_control\n")])])]),e("blockquote",[e("p",[s._v("返回值一般为"),e("code",[s._v("net.ipv4.tcp_available_congestion_control = bbr cubic reno")]),s._v("，\n或者为："),e("code",[s._v("net.ipv4.tcp_available_congestion_control = reno cubic bbr")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sysctl net.ipv4.tcp_congestion_control\n")])])]),e("blockquote",[e("p",[s._v("返回值一般为 "),e("code",[s._v("net.ipv4.tcp_congestion_control = bbr")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("sysctl net.core.default_qdisc\n")])])]),e("blockquote",[e("p",[s._v("返回值一般为 "),e("code",[s._v("net.core.default_qdisc = fq")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("lsmod "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" bbr\n")])])]),e("blockquote",[e("p",[s._v("返回值有"),e("code",[s._v("tcp_bbr")]),s._v("模块即说明"),e("code",[s._v("bbr")]),s._v("已启动。")])]),s._v(" "),e("blockquote",[e("p",[s._v("注意：并不是所有的都会有此返回值，若没有也属正常。")])]),s._v(" "),e("h3",{attrs:{id:"安装新版内核headers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装新版内核headers"}},[s._v("#")]),s._v(" 安装新版内核headers")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum --enablerepo"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("elrepo-kernel -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml-headers\n")])])]),e("ul",[e("li",[s._v("根据"),e("code",[s._v("CentOS")]),s._v("版本的不同，此时一般会出现类似于以下的错误提示：\n"),e("ul",[e("li",[e("code",[s._v("Error: kernel-ml-headers conflicts with kernel-headers-2.6.32-696.20.1.el6.x86_64")])]),s._v(" "),e("li",[e("code",[s._v("Error: kernel-ml-headers conflicts with kernel-headers-3.10.0-693.17.1.el7.x86_64")])])])])]),s._v(" "),e("p",[e("strong",[s._v("卸载原版内核"),e("code",[s._v("headers")])])]),s._v(" "),e("blockquote",[e("p",[s._v("需要先卸载原版内核"),e("code",[s._v("headers")]),s._v("，然后再安装最新版内核"),e("code",[s._v("headers")]),s._v("。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum remove kernel-headers -y\n")])])]),e("blockquote",[e("p",[s._v("注意：有时候这么操作还会卸载一些对内核 headers 依赖的安装包，比如 gcc、gcc-c++ 之类的。\n不过不要紧，我们可以在安装完最新版内核 headers 后再重新安装回来即可。")])]),s._v(" "),e("h3",{attrs:{id:"内核升级方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#内核升级方法"}},[s._v("#")]),s._v(" 内核升级方法")]),s._v(" "),e("ul",[e("li",[s._v("CentOS系统升级内核")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml kernel-ml-devel\n")])])]),e("ul",[e("li",[s._v("升级"),e("code",[s._v("headers")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kernel-ml-headers\n")])])]),e("ul",[e("li",[s._v("执行命令")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("grub2-set-default "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),e("blockquote",[e("p",[s._v("最后，重启VPS即可。")])]),s._v(" "),e("h2",{attrs:{id:"三方工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三方工具"}},[s._v("#")]),s._v(" 三方工具")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel lrzsz "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nlrzsz-devel p7zip p7zip-devel net-tools net-tools-devel "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" vim-devel libaio libaio-devel\n")])])]),e("p",[e("strong",[e("code",[s._v("figlet")])])]),s._v(" "),e("blockquote",[e("p",[s._v("Linux下的命令行工具，我们经常会看到一些终端工具有一个字符Logo,这些Logo可以通过"),e("code",[s._v("Figlet")]),s._v("生成：")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y figlet\n")])])]),e("ul",[e("li",[s._v("居中显示用 "),e("code",[s._v("-c")])]),s._v(" "),e("li",[s._v("从文件导入用 "),e("code",[s._v("-p")]),s._v("， 比如从testFile导入"),e("code",[s._v("figlet -c -p < testFile")])]),s._v(" "),e("li",[s._v("还可以用"),e("code",[s._v("-w")]),s._v("指定宽度。")]),s._v(" "),e("li",[s._v("实时显示时间"),e("code",[s._v("watch -n1 \"date '+%D%n%T' |figlet -k\"")])])]),s._v(" "),e("p",[e("strong",[e("code",[s._v("boxes")])])]),s._v(" "),e("blockquote",[e("p",[s._v("这个工具提供了 n 种样式，例如各种动物等，然后你输入的字符就放在这些图案的内部空白处。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" boxes\n")])])]),e("blockquote",[e("p",[s._v("使用boxes -l列出所有的样式。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" boxes -d "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("style name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 比如dog")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" boxes -d dog\n")])])]),e("p",[e("strong",[e("code",[s._v("Toilet")])])]),s._v(" "),e("blockquote",[e("p",[s._v("可以输出更丰富的样式，它比 "),e("code",[s._v("figlet")]),s._v(" 命令的效果更有艺术感。")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" toilet -f term -F border --gay\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以有颜色")]),s._v("\ntoilet -f mono12 -F metal Linux\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 多种样式")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'+%D %T'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" toilet -f term -F border --gay"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])])]),e("h2",{attrs:{id:"svn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#svn"}},[s._v("#")]),s._v(" SVN")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检查已安装")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -qa subversion\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\nyum -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" subversion\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装版本")]),s._v("\nsvnserve --version\n")])])]),e("p",[e("strong",[s._v("创建代码库")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立SVN版本库目录")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /home/svn/svnrepos/test\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建SVN版本库")]),s._v("\nsvnadmin create /home/svn/svnrepos/test\n")])])]),e("blockquote",[e("p",[s._v("执行上面的命令后，自动建立"),e("code",[s._v("svndata")]),s._v("库，\n"),e("code",[s._v("/home/svn/svnrepos/test")]),s._v("文件夹包含了"),e("code",[s._v("conf")]),s._v("、"),e("code",[s._v("db")]),s._v("、"),e("code",[s._v("format")]),s._v("、"),e("code",[s._v("hooks")]),s._v("、"),e("code",[s._v("locks")]),s._v("、"),e("code",[s._v("README.txt")]),s._v("等文件，说明一个SVN库已经建立。")])]),s._v(" "),e("p",[e("strong",[s._v("配置代码库")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入`conf`文件夹")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/svn/svnrepos/test/conf\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置用户密码`passwd`")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\n")])])]),e("ul",[e("li",[s._v("在"),e("code",[s._v("[users]")]),s._v("节点下添加以下内容(账户=密码)")])]),s._v(" "),e("div",{staticClass:"language-conf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 账户=密码\nwoytu.com=woytu.com\n")])])]),e("ul",[e("li",[s._v("配置权限控制"),e("code",[s._v("authz")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" authz\n")])])]),e("blockquote",[e("p",[s._v("目的是设置哪些用户可以访问哪些目录，向"),e("code",[s._v("authz")]),s._v("文件末尾追加以下内容：")]),s._v(" "),e("blockquote",[e("p",[s._v("设置"),e("code",[s._v("[/]")]),s._v("代表根目录下所有的资源,"),e("code",[s._v("rw")]),s._v("为读和写，"),e("code",[s._v("*")]),s._v("代表所有用户,先按"),e("code",[s._v("shift+g")]),s._v("跳到末尾，然后添加")])])]),s._v(" "),e("div",{staticClass:"language-conf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[/]\nwoytu.com=rw\n*=r\n")])])]),e("ul",[e("li",[s._v("配置服务"),e("code",[s._v("svnserve.conf")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" svnserve.conf\n")])])]),e("blockquote",[e("p",[s._v("在"),e("code",[s._v("[general]")]),s._v("节点下追加以下内容")])]),s._v(" "),e("div",{staticClass:"language-conf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("# 匿名访问的权限，可以是read,write,none,默认为read\nanon-access=none\n# 使授权用户有写权限\nauth-access=write\n# 密码数据库的路径\npassword-db=passwd\n# 访问控制文件\nauthz-db=authz\n# 认证命名空间，subversion会在认证提示里显示，并且作为凭证缓存的关键字\nrealm = This Is A Repository\n")])])]),e("blockquote",[e("p",[s._v("如果需要创建多个库就需要重复做上面2、3步，并且最后一个目录名是不一样的")])]),s._v(" "),e("ul",[e("li",[s._v("建立第2个SVN版本库目录")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /home/svn/svnrepos/test2\n")])])]),e("ul",[e("li",[s._v("创建第2个SVN版本库")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("svnadmin create /home/svn/svnrepos/test2\n")])])]),e("p",[e("strong",[s._v("启动")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("svnserve -d -r /home/svn/svnrepos/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看SVN进程")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" svn\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测SVN端口")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -antlp"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" svnserve\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 放开端口")]),s._v("\nfirewall-cmd --zone"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3690")]),s._v("/tcp --permanent\nfirewall-cmd --reload\n")])])]),e("p",[e("strong",[s._v("连接地址："),e("code",[s._v("svn://host:port/仓库名")])])]),s._v(" "),e("p",[e("strong",[s._v("停止SVN")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查找svnserve进程（PID）")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aux "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" svnserve\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 结束进程")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 PID\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#或者")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("killall")]),s._v(" svnserve\n")])])]),e("h2",{attrs:{id:"chrome"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chrome"}},[s._v("#")]),s._v(" Chrome")]),s._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://intoli.com/blog/installing-google-chrome-on-centos",target:"_blank",rel:"noopener noreferrer"}},[s._v("chrome其他安装方式"),e("OutboundLink")],1)])]),s._v(" "),e("p",[e("strong",[s._v("rpm包安装")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载rpm包")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装依赖")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y lsb libXScrnSaver libappindicator-gtk3 liberation-fonts\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装chrome")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -ivh google-chrome-stable_current_x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者使用yum安装chrome")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y google-chrome-stable_current_x86_64.rpm\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看版本")]),s._v("\ngoogle-chrome --version\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装chromedriver：一个用来和chrome交互的接口")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y chromedriver\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看安装的chromedriver版本")]),s._v("\nchromedriver --version\n")])])]),e("p",[e("strong",[s._v("在线安装")])]),s._v(" "),e("ul",[e("li",[s._v("创建repo文件")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/yum.repos.d/google-chrome.repo\n")])])]),e("ul",[e("li",[s._v("添加内容")])]),s._v(" "),e("div",{staticClass:"language-conf extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[google-chrome]\nname=google-chrome\nbaseurl=http://dl.google.com/linux/chrome/rpm/stable/$basearch\nenabled=1\ngpgcheck=1\ngpgkey=https://dl-ssl.google.com/linux/linux_signing_key.pub\n")])])]),e("ul",[e("li",[s._v("安装")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y google-chrome-stable\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 如果安装失败")]),s._v("\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" google-chrome-stable --nogpgcheck\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);